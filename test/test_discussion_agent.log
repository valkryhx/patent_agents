2025-08-18 10:00:39,579 - __main__ - INFO - ğŸ¯ å¼€å§‹ Discussion Agent æµ‹è¯•
2025-08-18 10:00:39,579 - __main__ - INFO - ============================================================
2025-08-18 10:00:39,579 - __main__ - INFO - ğŸ§ª æµ‹è¯• Discussion Agent - GLM_AVAILABLE=False
2025-08-18 10:00:39,579 - __main__ - INFO - ============================================================
2025-08-18 10:00:39,601 - __main__ - ERROR - âŒ æµ‹è¯•å¤±è´¥: No module named 'fastapi'
2025-08-18 10:00:39,602 - __main__ - ERROR - ğŸ“‹ é”™è¯¯è¯¦æƒ…: Traceback (most recent call last):
  File "/workspace/test/test_discussion_agent.py", line 36, in test_discussion_agent_glm_false
    import unified_service
  File "/workspace/unified_service.py", line 7, in <module>
    from fastapi import FastAPI, BackgroundTasks, HTTPException, WebSocket, WebSocketDisconnect
ModuleNotFoundError: No module named 'fastapi'

2025-08-18 10:00:39,602 - __main__ - INFO - ============================================================
2025-08-18 10:00:39,602 - __main__ - INFO - ğŸ§ª æµ‹è¯• Discussion Agent - GLM_AVAILABLE=True
2025-08-18 10:00:39,602 - __main__ - INFO - ============================================================
2025-08-18 10:00:39,603 - __main__ - ERROR - âŒ æµ‹è¯•å¤±è´¥: No module named 'fastapi'
2025-08-18 10:00:39,603 - __main__ - ERROR - ğŸ“‹ é”™è¯¯è¯¦æƒ…: Traceback (most recent call last):
  File "/workspace/test/test_discussion_agent.py", line 130, in test_discussion_agent_glm_true
    import unified_service
  File "/workspace/unified_service.py", line 7, in <module>
    from fastapi import FastAPI, BackgroundTasks, HTTPException, WebSocket, WebSocketDisconnect
ModuleNotFoundError: No module named 'fastapi'

2025-08-18 10:00:39,603 - __main__ - INFO - 
============================================================
2025-08-18 10:00:39,603 - __main__ - INFO - æµ‹è¯•æ€»ç»“
2025-08-18 10:00:39,603 - __main__ - INFO - ============================================================
2025-08-18 10:00:39,603 - __main__ - INFO - âŒ éƒ¨åˆ†æµ‹è¯•å¤±è´¥
2025-08-18 10:00:39,603 - __main__ - INFO - âŒ GLM_AVAILABLE=False æµ‹è¯•: å¤±è´¥
2025-08-18 10:00:39,603 - __main__ - INFO - âŒ GLM_AVAILABLE=True æµ‹è¯•: å¤±è´¥
2025-08-18 10:00:39,603 - __main__ - INFO - ğŸ’¡ å»ºè®®: æ£€æŸ¥ Discussion Agent é…ç½®å’Œä»£ç 
2025-08-18 10:00:47,096 - __main__ - INFO - ğŸ¯ å¼€å§‹ Discussion Agent æµ‹è¯•
2025-08-18 10:00:47,096 - __main__ - INFO - ============================================================
2025-08-18 10:00:47,096 - __main__ - INFO - ğŸ§ª æµ‹è¯• Discussion Agent - GLM_AVAILABLE=False
2025-08-18 10:00:47,096 - __main__ - INFO - ============================================================
2025-08-18 10:00:47,262 - __main__ - ERROR - âŒ æµ‹è¯•å¤±è´¥: No module named 'uvicorn'
2025-08-18 10:00:47,263 - __main__ - ERROR - ğŸ“‹ é”™è¯¯è¯¦æƒ…: Traceback (most recent call last):
  File "/workspace/test/test_discussion_agent.py", line 36, in test_discussion_agent_glm_false
    import unified_service
  File "/workspace/unified_service.py", line 11, in <module>
    import uvicorn
ModuleNotFoundError: No module named 'uvicorn'

2025-08-18 10:00:47,263 - __main__ - INFO - ============================================================
2025-08-18 10:00:47,263 - __main__ - INFO - ğŸ§ª æµ‹è¯• Discussion Agent - GLM_AVAILABLE=True
2025-08-18 10:00:47,263 - __main__ - INFO - ============================================================
2025-08-18 10:00:47,264 - __main__ - ERROR - âŒ æµ‹è¯•å¤±è´¥: No module named 'uvicorn'
2025-08-18 10:00:47,264 - __main__ - ERROR - ğŸ“‹ é”™è¯¯è¯¦æƒ…: Traceback (most recent call last):
  File "/workspace/test/test_discussion_agent.py", line 130, in test_discussion_agent_glm_true
    import unified_service
  File "/workspace/unified_service.py", line 11, in <module>
    import uvicorn
ModuleNotFoundError: No module named 'uvicorn'

2025-08-18 10:00:47,264 - __main__ - INFO - 
============================================================
2025-08-18 10:00:47,264 - __main__ - INFO - æµ‹è¯•æ€»ç»“
2025-08-18 10:00:47,264 - __main__ - INFO - ============================================================
2025-08-18 10:00:47,264 - __main__ - INFO - âŒ éƒ¨åˆ†æµ‹è¯•å¤±è´¥
2025-08-18 10:00:47,264 - __main__ - INFO - âŒ GLM_AVAILABLE=False æµ‹è¯•: å¤±è´¥
2025-08-18 10:00:47,264 - __main__ - INFO - âŒ GLM_AVAILABLE=True æµ‹è¯•: å¤±è´¥
2025-08-18 10:00:47,264 - __main__ - INFO - ğŸ’¡ å»ºè®®: æ£€æŸ¥ Discussion Agent é…ç½®å’Œä»£ç 
2025-08-18 10:00:54,848 - __main__ - INFO - ğŸ¯ å¼€å§‹ Discussion Agent æµ‹è¯•
2025-08-18 10:00:54,848 - __main__ - INFO - ============================================================
2025-08-18 10:00:54,848 - __main__ - INFO - ğŸ§ª æµ‹è¯• Discussion Agent - GLM_AVAILABLE=False
2025-08-18 10:00:54,848 - __main__ - INFO - ============================================================
2025-08-18 10:00:55,052 - unified_service - INFO - âœ… GLMå®¢æˆ·ç«¯å¯¼å…¥æˆåŠŸ
2025-08-18 10:00:55,053 - workflow_manager - INFO - ğŸš€ WorkflowManager initialized with task assignment to agent services
2025-08-18 10:00:55,062 - __main__ - INFO - ğŸ”§ è®¾ç½® GLM_AVAILABLE=False
2025-08-18 10:00:55,062 - __main__ - ERROR - âŒ æµ‹è¯•å¤±è´¥: 3 validation errors for TaskRequest
task_id
  Field required [type=missing, input_value={'topic': 'åŸºäºè¯­ä¹‰...t_discussion_glm_false'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
stage_name
  Field required [type=missing, input_value={'topic': 'åŸºäºè¯­ä¹‰...t_discussion_glm_false'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
description
  Field required [type=missing, input_value={'topic': 'åŸºäºè¯­ä¹‰...t_discussion_glm_false'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-08-18 10:00:55,063 - __main__ - ERROR - ğŸ“‹ é”™è¯¯è¯¦æƒ…: Traceback (most recent call last):
  File "/workspace/test/test_discussion_agent.py", line 70, in test_discussion_agent_glm_false
    request = TaskRequest(
        topic=test_topic,
    ...<2 lines>...
        workflow_id="test_discussion_glm_false"
    )
  File "/home/ubuntu/.local/lib/python3.13/site-packages/pydantic/main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 3 validation errors for TaskRequest
task_id
  Field required [type=missing, input_value={'topic': 'åŸºäºè¯­ä¹‰...t_discussion_glm_false'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
stage_name
  Field required [type=missing, input_value={'topic': 'åŸºäºè¯­ä¹‰...t_discussion_glm_false'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
description
  Field required [type=missing, input_value={'topic': 'åŸºäºè¯­ä¹‰...t_discussion_glm_false'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing

2025-08-18 10:00:55,063 - __main__ - INFO - ============================================================
2025-08-18 10:00:55,063 - __main__ - INFO - ğŸ§ª æµ‹è¯• Discussion Agent - GLM_AVAILABLE=True
2025-08-18 10:00:55,063 - __main__ - INFO - ============================================================
2025-08-18 10:00:55,063 - __main__ - INFO - ğŸ”§ è®¾ç½® GLM_AVAILABLE=True
2025-08-18 10:00:55,063 - __main__ - ERROR - âŒ æµ‹è¯•å¤±è´¥: 3 validation errors for TaskRequest
task_id
  Field required [type=missing, input_value={'topic': 'åŸºäºè¯­ä¹‰...st_discussion_glm_true'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
stage_name
  Field required [type=missing, input_value={'topic': 'åŸºäºè¯­ä¹‰...st_discussion_glm_true'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
description
  Field required [type=missing, input_value={'topic': 'åŸºäºè¯­ä¹‰...st_discussion_glm_true'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-08-18 10:00:55,064 - __main__ - ERROR - ğŸ“‹ é”™è¯¯è¯¦æƒ…: Traceback (most recent call last):
  File "/workspace/test/test_discussion_agent.py", line 164, in test_discussion_agent_glm_true
    request = TaskRequest(
        topic=test_topic,
    ...<2 lines>...
        workflow_id="test_discussion_glm_true"
    )
  File "/home/ubuntu/.local/lib/python3.13/site-packages/pydantic/main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 3 validation errors for TaskRequest
task_id
  Field required [type=missing, input_value={'topic': 'åŸºäºè¯­ä¹‰...st_discussion_glm_true'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
stage_name
  Field required [type=missing, input_value={'topic': 'åŸºäºè¯­ä¹‰...st_discussion_glm_true'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
description
  Field required [type=missing, input_value={'topic': 'åŸºäºè¯­ä¹‰...st_discussion_glm_true'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing

2025-08-18 10:00:55,064 - __main__ - INFO - 
============================================================
2025-08-18 10:00:55,064 - __main__ - INFO - æµ‹è¯•æ€»ç»“
2025-08-18 10:00:55,064 - __main__ - INFO - ============================================================
2025-08-18 10:00:55,064 - __main__ - INFO - âŒ éƒ¨åˆ†æµ‹è¯•å¤±è´¥
2025-08-18 10:00:55,064 - __main__ - INFO - âŒ GLM_AVAILABLE=False æµ‹è¯•: å¤±è´¥
2025-08-18 10:00:55,064 - __main__ - INFO - âŒ GLM_AVAILABLE=True æµ‹è¯•: å¤±è´¥
2025-08-18 10:00:55,064 - __main__ - INFO - ğŸ’¡ å»ºè®®: æ£€æŸ¥ Discussion Agent é…ç½®å’Œä»£ç 
2025-08-18 10:01:37,309 - __main__ - INFO - ğŸ¯ å¼€å§‹ Discussion Agent æµ‹è¯•
2025-08-18 10:01:37,309 - __main__ - INFO - ============================================================
2025-08-18 10:01:37,309 - __main__ - INFO - ğŸ§ª æµ‹è¯• Discussion Agent - GLM_AVAILABLE=False
2025-08-18 10:01:37,309 - __main__ - INFO - ============================================================
2025-08-18 10:01:37,507 - unified_service - INFO - âœ… GLMå®¢æˆ·ç«¯å¯¼å…¥æˆåŠŸ
2025-08-18 10:01:37,507 - workflow_manager - INFO - ğŸš€ WorkflowManager initialized with task assignment to agent services
2025-08-18 10:01:37,516 - __main__ - INFO - ğŸ”§ è®¾ç½® GLM_AVAILABLE=False
2025-08-18 10:01:37,516 - __main__ - INFO - ğŸ“‹ æ‰§è¡Œ Discussion Agent ä»»åŠ¡
2025-08-18 10:01:37,516 - __main__ - INFO - ä¸»é¢˜: åŸºäºè¯­ä¹‰ç†è§£çš„å¤æ‚å‡½æ•°å‚æ•°æ™ºèƒ½æ¨æ–­ä¸åˆ†å±‚è°ƒç”¨é‡è¯•ä¼˜åŒ–æ–¹æ³•
2025-08-18 10:01:37,516 - unified_service - INFO - ğŸš€ Starting innovation discussion for: åŸºäºè¯­ä¹‰ç†è§£çš„å¤æ‚å‡½æ•°å‚æ•°æ™ºèƒ½æ¨æ–­ä¸åˆ†å±‚è°ƒç”¨é‡è¯•ä¼˜åŒ–æ–¹æ³•
2025-08-18 10:01:37,516 - unified_service - INFO - ğŸ”§ Test mode: True
2025-08-18 10:01:38,017 - unified_service - INFO - â±ï¸ Test mode delay: 0.5s
2025-08-18 10:01:38,017 - unified_service - INFO - ğŸ“‹ Building on planning strategy: ['è¯­ä¹‰ç†è§£', 'å‚æ•°æ¨æ–­', 'åˆ†å±‚è°ƒç”¨', 'é‡è¯•ä¼˜åŒ–']
2025-08-18 10:01:38,017 - unified_service - INFO - ğŸ” Incorporating search findings: 3 patents found
2025-08-18 10:01:38,017 - unified_service - INFO - ğŸ“ ä½¿ç”¨mockæ•°æ®è¿›è¡Œåˆ›æ–°è®¨è®ºåˆ†æ
2025-08-18 10:01:38,017 - __main__ - INFO - â±ï¸ æ‰§è¡Œæ—¶é—´: 0.50ç§’
2025-08-18 10:01:38,017 - __main__ - INFO - ğŸ“Š ç»“æœåˆ†æ:
2025-08-18 10:01:38,017 - __main__ - INFO -   ä¸»é¢˜: åŸºäºè¯­ä¹‰ç†è§£çš„å¤æ‚å‡½æ•°å‚æ•°æ™ºèƒ½æ¨æ–­ä¸åˆ†å±‚è°ƒç”¨é‡è¯•ä¼˜åŒ–æ–¹æ³•
2025-08-18 10:01:38,017 - __main__ - INFO -   åˆ›æ–°ç‚¹æ•°é‡: 3
2025-08-18 10:01:38,017 - __main__ - INFO -   æŠ€æœ¯æ´å¯Ÿæ•°é‡: 3
2025-08-18 10:01:38,017 - __main__ - INFO -   å»ºè®®æ•°é‡: 3
2025-08-18 10:01:38,017 - __main__ - INFO -   æ–°é¢–æ€§è¯„åˆ†: 8.5
2025-08-18 10:01:38,017 - __main__ - INFO -   æµ‹è¯•æ¨¡å¼: True
2025-08-18 10:01:38,017 - __main__ - INFO -   Mockå»¶è¿Ÿ: 0.5
2025-08-18 10:01:38,017 - __main__ - INFO - âœ… ç¡®è®¤ä½¿ç”¨äº†mockæ•°æ®
2025-08-18 10:01:38,018 - __main__ - INFO - ğŸ’¾ ç»“æœå·²ä¿å­˜åˆ°: test_discussion_glm_false_output.json
2025-08-18 10:01:38,018 - __main__ - INFO - ============================================================
2025-08-18 10:01:38,018 - __main__ - INFO - ğŸ§ª æµ‹è¯• Discussion Agent - GLM_AVAILABLE=True
2025-08-18 10:01:38,018 - __main__ - INFO - ============================================================
2025-08-18 10:01:38,018 - __main__ - INFO - ğŸ”§ è®¾ç½® GLM_AVAILABLE=True
2025-08-18 10:01:38,018 - __main__ - INFO - ğŸ“‹ æ‰§è¡Œ Discussion Agent ä»»åŠ¡
2025-08-18 10:01:38,018 - __main__ - INFO - ä¸»é¢˜: åŸºäºè¯­ä¹‰ç†è§£çš„å¤æ‚å‡½æ•°å‚æ•°æ™ºèƒ½æ¨æ–­ä¸åˆ†å±‚è°ƒç”¨é‡è¯•ä¼˜åŒ–æ–¹æ³•
2025-08-18 10:01:38,018 - unified_service - INFO - ğŸš€ Starting innovation discussion for: åŸºäºè¯­ä¹‰ç†è§£çš„å¤æ‚å‡½æ•°å‚æ•°æ™ºèƒ½æ¨æ–­ä¸åˆ†å±‚è°ƒç”¨é‡è¯•ä¼˜åŒ–æ–¹æ³•
2025-08-18 10:01:38,018 - unified_service - INFO - ğŸ”§ Test mode: False
2025-08-18 10:01:38,018 - unified_service - INFO - ğŸ“‹ Building on planning strategy: ['è¯­ä¹‰ç†è§£', 'å‚æ•°æ¨æ–­', 'åˆ†å±‚è°ƒç”¨', 'é‡è¯•ä¼˜åŒ–']
2025-08-18 10:01:38,018 - unified_service - INFO - ğŸ” Incorporating search findings: 3 patents found
2025-08-18 10:01:38,018 - unified_service - INFO - ğŸš€ ä½¿ç”¨GLM APIè¿›è¡Œåˆ›æ–°è®¨è®ºåˆ†æ
2025-08-18 10:01:38,018 - unified_service - ERROR - âŒ GLM APIè°ƒç”¨å¤±è´¥: 'GLMClient' object has no attribute 'analyze_innovation_discussion'
2025-08-18 10:01:38,018 - unified_service - INFO - ğŸ”„ å›é€€åˆ°mockæ•°æ®
2025-08-18 10:01:38,018 - unified_service - INFO - ğŸ“ ä½¿ç”¨mockæ•°æ®è¿›è¡Œåˆ›æ–°è®¨è®ºåˆ†æ
2025-08-18 10:01:38,018 - __main__ - INFO - â±ï¸ æ‰§è¡Œæ—¶é—´: 0.00ç§’
2025-08-18 10:01:38,018 - __main__ - INFO - ğŸ“Š ç»“æœåˆ†æ:
2025-08-18 10:01:38,018 - __main__ - INFO -   ä¸»é¢˜: åŸºäºè¯­ä¹‰ç†è§£çš„å¤æ‚å‡½æ•°å‚æ•°æ™ºèƒ½æ¨æ–­ä¸åˆ†å±‚è°ƒç”¨é‡è¯•ä¼˜åŒ–æ–¹æ³•
2025-08-18 10:01:38,018 - __main__ - INFO -   åˆ›æ–°ç‚¹æ•°é‡: 3
2025-08-18 10:01:38,018 - __main__ - INFO -   æŠ€æœ¯æ´å¯Ÿæ•°é‡: 3
2025-08-18 10:01:38,018 - __main__ - INFO -   å»ºè®®æ•°é‡: 3
2025-08-18 10:01:38,018 - __main__ - INFO -   æ–°é¢–æ€§è¯„åˆ†: 8.5
2025-08-18 10:01:38,018 - __main__ - INFO -   æµ‹è¯•æ¨¡å¼: False
2025-08-18 10:01:38,018 - __main__ - INFO -   Mockå»¶è¿Ÿ: 0
2025-08-18 10:01:38,018 - __main__ - INFO - âœ… ç¡®è®¤è°ƒç”¨äº†GLM API
2025-08-18 10:01:38,018 - __main__ - INFO - ğŸ’¾ ç»“æœå·²ä¿å­˜åˆ°: test_discussion_glm_true_output.json
2025-08-18 10:01:38,018 - __main__ - INFO - 
============================================================
2025-08-18 10:01:38,018 - __main__ - INFO - æµ‹è¯•æ€»ç»“
2025-08-18 10:01:38,018 - __main__ - INFO - ============================================================
2025-08-18 10:01:38,018 - __main__ - INFO - ğŸ‰ æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼
2025-08-18 10:01:38,018 - __main__ - INFO - âœ… GLM_AVAILABLE=False æµ‹è¯•: é€šè¿‡
2025-08-18 10:01:38,018 - __main__ - INFO - âœ… GLM_AVAILABLE=True æµ‹è¯•: é€šè¿‡
2025-08-18 10:01:38,018 - __main__ - INFO - ğŸ’¡ å»ºè®®: Discussion Agent å·¥ä½œæ­£å¸¸
